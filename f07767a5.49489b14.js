(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{199:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return a})),r.d(t,"metadata",(function(){return c})),r.d(t,"rightToc",(function(){return s})),r.d(t,"default",(function(){return d}));var n=r(2),o=r(6),i=(r(0),r(216)),a={id:"consummer_driven_contract_testing_netcore",title:"Consumer Driven Contract Testing",hide_title:!0,hide_table_of_contents:!1,description:"Contract testing for the .NET Core REST API application",keywords:[".net core","rest api","tests","stacks","contract tests","pact","consumer","provider","broker"]},c={unversionedId:"workloads/azure/backend/netcore/architecture/testing/consummer_driven_contract_testing_netcore",id:"workloads/azure/backend/netcore/architecture/testing/consummer_driven_contract_testing_netcore",isDocsHomePage:!1,title:"Consumer Driven Contract Testing",description:"Contract testing for the .NET Core REST API application",source:"@site/docs/workloads/azure/backend/netcore/architecture/testing/consummer_driven_contract_testing_netcore.md",slug:"/workloads/azure/backend/netcore/architecture/testing/consummer_driven_contract_testing_netcore",permalink:"/docs/workloads/azure/backend/netcore/architecture/testing/consummer_driven_contract_testing_netcore",version:"current"},s=[{value:"Consumer Driven Contract Testing",id:"consumer-driven-contract-testing",children:[{value:"How Pact works",id:"how-pact-works",children:[]},{value:"Consumer testing",id:"consumer-testing",children:[]},{value:"Provider testing",id:"provider-testing",children:[]},{value:"Pact Broker",id:"pact-broker",children:[]}]}],u={rightToc:s};function d(e){var t=e.components,a=Object(o.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},u,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"consumer-driven-contract-testing"},"Consumer Driven Contract Testing"),Object(i.b)("p",null,"Consumer Driven Contract (CDC) Testing is a pattern that allows a consumer (i.e: a client) and a provider (i.e. an API provider) to communicate using an agreed contract (a pact)\nIt's mostly beneficial in scenarios where there's many consumers that need to talk with one service provider, although it can be useful even with one consumer and one provider only.\nFor our .NET Core stacks, we are using pact.net library."),Object(i.b)("h3",{id:"how-pact-works"},"How Pact works"),Object(i.b)("p",null,"Having well-formed contract tests makes it easy for developers to avoid version hell. Contract testing is ideal for developing and deploying microservices.\nConsumer driven means the contract is written as part of the consumer tests.\nA major advantage of this pattern is that only parts of the communication that are actually used by the consumer(s) get tested. This in turn means that any provider behaviour not used by current consumers is free to change without breaking tests."),Object(i.b)("h3",{id:"consumer-testing"},"Consumer testing"),Object(i.b)("p",null,"Each test built by the consumer is an interaction that is recorded by the pact mock provider in a pact file (in json format)\nThe consumer does not communicate with the real service at the time of the tests execution.\nThe tests describe what expects from the provider and nothing else that the provide may expose."),Object(i.b)("h3",{id:"provider-testing"},"Provider testing"),Object(i.b)("p",null,"Regarding provider testing, the provider mock verifier will load the interactions shared by the consumers and submits these to the actual provider and the actual response it generates is compared with the minimal expected response, as described in the interaction.\nIf the generated response is valid, then the provider tests pass."),Object(i.b)("h3",{id:"pact-broker"},"Pact Broker"),Object(i.b)("p",null,"When sharing pact files, it's better to use a pact broker that can also integrate with the CI/CD tooling in order to verify the test results and allow both consumer's and provider's pipelines to verify the results and decide when to merge the changes and deploy them."),Object(i.b)("p",null,Object(i.b)("img",{alt:"PACT Testing",src:r(298).default})))}d.isMDXComponent=!0},216:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return h}));var n=r(0),o=r.n(n);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var u=o.a.createContext({}),d=function(e){var t=o.a.useContext(u),r=t;return e&&(r="function"==typeof e?e(t):c(c({},t),e)),r},l=function(e){var t=d(e.components);return o.a.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},m=o.a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,a=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),l=d(r),m=n,h=l["".concat(a,".").concat(m)]||l[m]||p[m]||i;return r?o.a.createElement(h,c(c({ref:t},u),{},{components:r})):o.a.createElement(h,c({ref:t},u))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,a=new Array(i);a[0]=m;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:n,a[1]=c;for(var u=2;u<i;u++)a[u]=r[u];return o.a.createElement.apply(null,a)}return o.a.createElement.apply(null,r)}m.displayName="MDXCreateElement"},298:function(e,t,r){"use strict";r.r(t),t.default=r.p+"assets/images/pact_testing-7326969b4745759814856bb866c5acba.png"}}]);